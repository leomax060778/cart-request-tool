CREATE COLUMN TABLE "CART_REQUEST_TOOL".SERVICE 
(
SERVICE_ID BIGINT NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
REQUEST_ID BIGINT NOT NULL,
USER_ID BIGINT NOT NULL,
START_DATE TIMESTAMP NOT NULL,
END_DATE TIMESTAMP NOT NULL,
DESCRIPTION NVARCHAR (255) NOT NULL,
AMOUNT DECIMAL (19,2) NOT NULL,
CURRENCY_ID BIGINT NOT NULL,
BUDGET DECIMAL (19,2) NOT NULL,
CURRENCY_CONVERTION_RATE DECIMAL (19,10) NOT NULL,
ITEM INTEGER NOT NULL,

CREATED_DATE_TZ TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
MODIFIED_DATE_TZ TIMESTAMP,
CREATED_USER_ID BIGINT NOT NULL,
MODIFIED_USER_ID BIGINT,
ENABLED TINYINT DEFAULT 1, 
DELETED TINYINT DEFAULT 0
);

ALTER TABLE "CART_REQUEST_TOOL"."SERVICE" ADD FOREIGN KEY ( "CURRENCY_ID" ) REFERENCES "CART_REQUEST_TOOL"."CURRENCY" ("CURRENCY_ID") ON UPDATE RESTRICT ON DELETE RESTRICT
;
ALTER TABLE "CART_REQUEST_TOOL"."SERVICE" ADD FOREIGN KEY ( "REQUEST_ID" ) REFERENCES "CART_REQUEST_TOOL"."REQUEST" ("REQUEST_ID") ON UPDATE RESTRICT ON DELETE RESTRICT
;
ALTER TABLE "CART_REQUEST_TOOL"."SERVICE" ADD FOREIGN KEY ( "USER_ID" ) REFERENCES "CART_REQUEST_TOOL"."USER" ("USER_ID") ON UPDATE RESTRICT ON DELETE RESTRICT
;
